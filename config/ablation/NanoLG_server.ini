[device]
name = NanoLG
label = YAG Server
path = ablation
driver = SocketDeviceServer
constr_params = port, driver, timeout, COM_port
correct_response = NanoLG
slow_data = True
row = 1
column = 1
plots_queue_maxlen = 1000
max_NaN_count = 10
meta_device = False
double_connect_dev = False
dtype = f8
shape = 15

[attributes]
column_names = time, system state, pump state, laser state, shutter state, water temperature, crystal temperature, qswitch delay, rep rate divider, rep rate mode, lamp shots total, lamp shots user, lamp trigger external, qswitch trigger external, interlock
units = s, , , , , C, C, us, , , , , , , ,

[driver]
type = dummy
value = NanoLG

[timeout]
type = dummy
value = 2

[enabled]
label = Device enabled
type = QCheckBox
tristate = True
row = 0
col = 0
value = 2

[HDF_enabled]
label = HDF enabled
type = QCheckBox
row = 1
col = 0
value = 1

[dt]
label = Loop delay [s]
type = QLineEdit
row = 2
col = 1
value = 0.5

[port]
label = Port
type = QLineEdit
row = 3
col = 1
value = 65430

[COM_port]
label = COM port
type = QComboBox
row = 4
col = 1
value = COM15
options =
command =

[System_on]
label = System On
type = QPushButton
row = 5
col = 0
tooltip  = Start YAG system
command = SystemOn
argument =
align =

[Pump_on]
label = Start Pump
type = QPushButton
row = 5
col = 1
tooltip = Start YAG system pump
command = StartPump
argument =
align =

[Pump_off]
label = Stop Pump
type = QPushButton
row = 5
col = 2
tooltip = Stop YAG system pump
command = PumpOff
argument =
align =

[Laser_on]
label = Start Laser
type = QPushButton
row = 5
col = 3
tooltip = Start YAG laser firing
rowspan = None
colspan = None
command = StartLaser
argument =
align =

[System_off]
label = Stop Laser
type = QPushButton
row = 5
col = 4
tooltip = Stop YAG laser
rowspan = None
colspan = None
command = LaserOff
argument =
align =

[Rep_rate]
label =
type = QComboBox
row = 6
col = 0
tooltip = Repetition rate divider; 50/div
rowspan = None
colspan = None
value = 10
options = 1,2,5,25,50
command = RepetitionRateDivider
argument =
align =

[QSwitch_delay]
label =
type = QLineEdit
row = 6
col = 1
tooltip = QSwitch delay [us]
rowspan = None
colspan = None
value = 178
enter_cmd = QSwitchDelay

[Shutter_open]
label = Open Shutter
type = QPushButton
row = 6
col = 2
tooltip = Open shutter
rowspan = None
colspan = None
command = ShutterOpen
argument =
align =

[Shutter_close]
label = Close Shutter
type = QPushButton
row = 6
col = 3
tooltip = Close shuttor
rowspan = None
colspan = None
command = ShutterClose
argument =
align =

[flashlamp_internal]
label = Lamp Trig Int
type = QPushButton
row = 7
col = 0
tooltip = Switch flashlamp triggering to internal
rowspan = None
colspan = None
command = LampInternalTrigger
argument =
align =

[flashlamp_external]
label = Lamp Trig Ext
type = QPushButton
row = 7
col = 1
tooltip = Switch flashlamp triggering to external
rowspan = None
colspan = None
command = LampExternalTrigger
argument =
align =

[qswitch_internal]
label = QSwitch Trig Int
type = QPushButton
row = 7
col = 2
tooltip = Switch QSwitch triggering to internal
rowspan = None
colspan = None
command = QSwitchInternalTrigger
argument =
align =

[qswitch_external]
label = QSwitch Trig Ext
type = QPushButton
row = 7
col = 3
tooltip = Switch QSwitch Triggering to external
rowspan = None
colspan = None
command = QSwitchExternalTrigger
argument =
align =

[YAG_status_indicator]
label = (YAG state?)
type = indicator
row = 8
col = 0
tooltip = None
rowspan = 1
colspan = 2
monitoring_command = NanoLGSystemStatus()
return_values = Laser On, Laser On/Shutter Closed, Pump On, YAG Off, invalid
texts = Laser On, Laser On/Shutter Closed, Pump On, YAG Off, (YAG state?)
styles = background-color: #2a542a; color: white, background-color: orange; color: white, background-color: black; color: white, white, background-color: red; color: white, background-color: black; color: white
