[device]
name = NanoLG
label = YAG Server
path = ablation
driver = SocketDeviceServer
constr_params = port, driver, timeout, COM_port
correct_response = NanoLG
slow_data = True
row = 1
column = 1
plots_queue_maxlen = 1000
max_NaN_count = 10
meta_device = False
double_connect_dev = False
dtype = f8
shape = 15

[attributes]
column_names = time, system state, pump state, laser state, shutter state, water temperature, crystal temperature, qswitch delay, rep rate divider, rep rate mode, lamp shots total, lamp shots user, lamp trigger external, qswitch trigger external, interlock
units = s, , , , , C, C, us, , , , , , , ,

[driver]
type = dummy
value = NanoLG

[timeout]
type = dummy
value = 2

[enabled]
label = Device enabled
type = QCheckBox
tristate = True
row = 0
col = 0
value = 2

[HDF_enabled]
label = HDF enabled
type = QCheckBox
row = 1
col = 0
value = 1

[dt]
label = Loop delay [s]
type = QLineEdit
row = 2
col = 1
value = 0.5

[port]
label = Port
type = QLineEdit
row = 3
col = 1
value = 65430

[COM_port]
label = COM port
type = QComboBox
row = 4
col = 1
value = COM15
options =
command =

[system_control]
label = (system?)
type = indicator_button
row = 5
col = 0
rowspan = 1
colspan = 1
argument =
action_commands = SystemOff, SystemOn
monitoring_command = SystemOnStatus()
return_values = System on, System off, invalid
checked = True, False, False
states = enabled, disabled, error
texts = System off, System on, (?)

[pump_control]
label = (pump?)
type = indicator_button
row = 5
col = 1
rowspan = 1
colspan = 2
argument =
action_commands = PumpOff, StartPump
monitoring_command = PumpStatus()
return_values = Pump on, Pump off, invalid
checked = True, False, False
states = enabled, disabled, error
texts = Stop pump, Start pump, (?)

[laser_control]
label = (laser?)
type = indicator_button
row = 5
col = 3
rowspan = 1
colspan = 2
argument =
action_commands = LaserOff, StartLaser
monitoring_command = LaserStatus()
return_values = Laser on, Laser off, invalid
checked = True, False, False
states = enabled, disable, error
texts = Stop Laser, Start Laser, (?)

[Rep_rate]
label =
type = QComboBox
row = 6
col = 0
tooltip = Repetition rate divider; 50/div
rowspan = None
colspan = None
value = 10
options = 1,2,5,25,50
command = RepetitionRateDivider
argument =
align =

[QSwitch_delay]
label =
type = QLineEdit
row = 6
col = 1
tooltip = QSwitch delay [us]
rowspan = None
colspan = None
value = 178
enter_cmd = QSwitchDelay

[shutter_control]
label = (shutter?)
type = indicator_button
row = 6
col = 2
rowspan = 1
colspan = 2
argument =
action_commands = ShutterClose, ShutterOpen
monitoring_command = ShutterStatus()
return_values = Shutter open, Shutter closed, invalid
checked = True, False, False
states = enabled, disable, error
texts = Shutter open, Shutter closed, (?)

[flashlamp_control]
label = (flashlamp?)
type = indicator_button
row = 7
col = 0
rowspan = 1
colspan = 2
argument =
action_commands = LampInternalTrigger, LampExternalTrigger
monitoring_command = LampTriggerStatus()
return_values = internal, external, invalid
checked = True, False, False
states = enabled, disabled, error
texts = Lamp trig int, Lamp trig ext, (?)

[qswitch_control]
label = (qswitch?)
type = indicator_button
row = 7
col = 2
rowspan = 1
colspan = 2
argument =
action_commands = QSwitchInternalTrigger, QSwitchExternalTrigger
monitoring_command = QSwitchTriggerStatus()
return_values = internal, external, invalid
checked = True, False, False
states = enabled, disabled, error
texts = QSwitch trig int, QSwitch trig ext, (?)

[YAG_status_indicator]
label = (YAG state?)
type = indicator
row = 8
col = 0
tooltip = None
rowspan = 1
colspan = 2
monitoring_command = NanoLGSystemStatus()
return_values = Laser On, Laser On/Shutter Closed, Pump On, YAG Off, invalid, None
texts = Laser On, Laser On/Shutter Closed, Pump On, YAG Off, (YAG state?), (YAG state?)
states = enabled, intermediate2, disabled, error, disabled, disabled
