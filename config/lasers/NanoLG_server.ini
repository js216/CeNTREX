[device]
name = NanoLG
label = YAG Server
path = ablation
driver = SocketDeviceServer
constr_params = port, driver, timeout, COM_port
correct_response = NanoLG
slow_data = True
row = 1
column = 1
plots_queue_maxlen = 1000
max_NaN_count = 10
meta_device = False
double_connect_dev = False
dtype = f8
shape = 15

[attributes]
column_names = time, system state, pump state, laser state, shutter state, water temperature, ambient temperature, crystal temperature, flashlamp period, qswitch delay, current lamp shots, total lamp shots, external qswitch trigger, external flashlamp trigger, interlock
units = s, , , , , C, C, C, us, us, , , , , ,

[driver]
type = dummy
value = NanoLG

[timeout]
type = dummy
value = 2

[enabled]
label = Device enabled
type = QCheckBox
tristate = True
row = 0
col = 0
value = 2

[HDF_enabled]
label = HDF enabled
type = QCheckBox
row = 1
col = 0
value = 0

[dt]
label = Loop delay [s]
type = QLineEdit
row = 2
col = 1
value = 0.5

[port]
label = Port
type = QLineEdit
row = 3
col = 1
value = 65432

[COM_port]
label = COM port
type = QComboBox
row = 4
col = 1
value = 15
options =
command =

[system_control]
label = (system?)
type = indicator_button
row = 5
col = 0
rowspan = 1
colspan = 1
argument =
action_commands = SystemOn, SystemOff
monitoring_command = systemstate
return_values = True, False, invalid
checked = True, False, False
states = enabled, disabled, error
texts = System on, System off, (?)

[pump_control]
label = (pump?)
type = indicator_button
row = 5
col = 1
rowspan = 1
colspan = 2
argument =
action_commands = PumpOn, PumpOff
monitoring_command = pumpstate
return_values = True, False, invalid
checked = True, False, False
states = enabled, disabled, error, disabled
texts = Pump on, Pump off, (?)

[laser_control]
label = (laser?)
type = indicator_button
row = 5
col = 3
rowspan = 1
colspan = 2
argument =
action_commands = LaserOn, LaserOff
monitoring_command = laserstate
return_values = True, False, invalid
checked = True, False, False
states = enabled, disable, error, disabled
texts = Laser on, Laser off, (?)

[Rep_rate]
label =
type = QComboBox
row = 6
col = 0
tooltip = Repetition rate divider; 50/div
rowspan = None
colspan = None
value = 10
options = 1,2,5,25,50
command = SetRepRateDivider
argument =
align =

[QSwitch_delay]
label =
type = indicator_lineedit
row = 6
col = 1
tooltip = QSwitch delay [us]
value = 0
enter_cmd = SetQSwitchDelay
monitoring_command = QDelay1value

[shutter_control]
label = (shutter?)
type = indicator_button
row = 6
col = 2
rowspan = 1
colspan = 2
argument =
action_commands = OpenShutter, CloseShutter
monitoring_command = shutterstate
return_values = True, False, invalid
checked = True, False, False
states = enabled, disable, error, disabled
texts = Shutter open, Shutter closed, (?)

[flashlamp_control]
label = (flashlamp?)
type = indicator_button
row = 7
col = 0
rowspan = 1
colspan = 2
argument =
action_commands = EnableExtLampTrig(False), EnableExtLampTrig(False)
monitoring_command = extlamptrig
return_values = True, False, invalid
checked = True, False, False
states = enabled, disabled, error, disabled
texts = Lamp trig ext, Lamp trig int, (?)

[qswitch_control]
label = (qswitch?)
type = indicator_button
row = 7
col = 2
rowspan = 1
colspan = 2
argument =
action_commands = EnableExtQTrig(False), EnableExtQTrig(True)
monitoring_command = extqtrig
return_values = True, False, invalid
checked = True, False, False
states = enabled, disabled, error, disabled
texts = QSwitch trig ext, QSwitch trig int, (?)

[YAG_status_indicator]
label = (YAG state?)
type = indicator
row = 8
col = 0
tooltip = None
rowspan = 1
colspan = 2
monitoring_command = GetSystemStatus()
return_values = Interlocked, Laser On, Laser On/Shutter Closed, Pump On, YAG Off, invalid, None
texts = Interlocked, Laser On, Laser On/Shutter Closed, Pump On, YAG Off, (YAG state?), (YAG state?)
states = error, enabled, intermediate, disabled, error, disabled, disabled
